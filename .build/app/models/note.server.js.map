{
  "version": 3,
  "sources": ["../../../app/models/note.server.ts"],
  "sourcesContent": ["import type { User } from \"./user.server\";\nimport { supabase } from \"./user.server\";\n\nexport type Note = {\n  id: string;\n  title: string;\n  body: string;\n  profile_id: string;\n};\n\nexport async function getNoteListItems({ userId }: { userId: User[\"id\"] }) {\n  const { data } = await supabase\n    .from(\"notes\")\n    .select(\"id, title\")\n    .eq(\"profile_id\", userId);\n\n  return data;\n}\n\nexport async function createNote({\n  title,\n  body,\n  userId,\n}: Pick<Note, \"body\" | \"title\"> & { userId: User[\"id\"] }) {\n  const { data, error } = await supabase\n    .from(\"notes\")\n    .insert([{ title, body, profile_id: userId }])\n    .single();\n\n  if (!error) {\n    return data;\n  }\n\n  return null;\n}\n\nexport async function deleteNote({\n  id,\n  userId,\n}: Pick<Note, \"id\"> & { userId: User[\"id\"] }) {\n  const { error } = await supabase\n    .from(\"notes\")\n    .delete({ returning: \"minimal\" })\n    .match({ id, profile_id: userId });\n\n  if (!error) {\n    return {};\n  }\n\n  return null;\n}\n\nexport async function getNote({\n  id,\n  userId,\n}: Pick<Note, \"id\"> & { userId: User[\"id\"] }) {\n  const { data, error } = await supabase\n    .from(\"notes\")\n    .select(\"*\")\n    .eq(\"profile_id\", userId)\n    .eq(\"id\", id)\n    .single();\n\n  if (!error) {\n    return {\n      userId: data.profile_id,\n      id: data.id,\n      title: data.title,\n      body: data.body,\n    };\n  }\n\n  return null;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAAyB;AASzB,eAAsB,iBAAiB,EAAE,OAAO,GAA2B;AACzE,QAAM,EAAE,KAAK,IAAI,MAAM,qBACpB,KAAK,OAAO,EACZ,OAAO,WAAW,EAClB,GAAG,cAAc,MAAM;AAE1B,SAAO;AACT;AAEA,eAAsB,WAAW;AAAA,EAC/B;AAAA,EACA;AAAA,EACA;AACF,GAA0D;AACxD,QAAM,EAAE,MAAM,MAAM,IAAI,MAAM,qBAC3B,KAAK,OAAO,EACZ,OAAO,CAAC,EAAE,OAAO,MAAM,YAAY,OAAO,CAAC,CAAC,EAC5C,OAAO;AAEV,MAAI,CAAC,OAAO;AACV,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AAEA,eAAsB,WAAW;AAAA,EAC/B;AAAA,EACA;AACF,GAA8C;AAC5C,QAAM,EAAE,MAAM,IAAI,MAAM,qBACrB,KAAK,OAAO,EACZ,OAAO,EAAE,WAAW,UAAU,CAAC,EAC/B,MAAM,EAAE,IAAI,YAAY,OAAO,CAAC;AAEnC,MAAI,CAAC,OAAO;AACV,WAAO,CAAC;AAAA,EACV;AAEA,SAAO;AACT;AAEA,eAAsB,QAAQ;AAAA,EAC5B;AAAA,EACA;AACF,GAA8C;AAC5C,QAAM,EAAE,MAAM,MAAM,IAAI,MAAM,qBAC3B,KAAK,OAAO,EACZ,OAAO,GAAG,EACV,GAAG,cAAc,MAAM,EACvB,GAAG,MAAM,EAAE,EACX,OAAO;AAEV,MAAI,CAAC,OAAO;AACV,WAAO;AAAA,MACL,QAAQ,KAAK;AAAA,MACb,IAAI,KAAK;AAAA,MACT,OAAO,KAAK;AAAA,MACZ,MAAM,KAAK;AAAA,IACb;AAAA,EACF;AAEA,SAAO;AACT;",
  "names": []
}
